% NREL Beamer style file

\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}
\RequirePackage{lmodern}
\RequirePackage{helvet}
\RequirePackage{tikz}
\RequirePackage{amsmath}
\RequirePackage{amsfonts}
\RequirePackage{amssymb}
\RequirePackage{mathtools}

\mode<presentation>
\useinnertheme{rounded}
\useoutertheme{default}
\usecolortheme{default}
\usefonttheme{professionalfonts}

\definecolor{nrel@blue}{HTML}{007dcc}
\definecolor{nrel@lightblue}{HTML}{0D9DDB}
\definecolor{nrel@gray}{HTML}{737B82}
\definecolor{nrel@lightgray}{HTML}{C1C6C8}
\definecolor{nrel@gray30}{gray}{0.3}
\definecolor{nrel@gray50}{gray}{0.5}
\definecolor{nrel@gray80}{gray}{0.8}

\definecolor{mpl@l1}{HTML}{1f77b4}
\definecolor{mpl@l2}{HTML}{ff7f0e}
\definecolor{mpl@l3}{HTML}{2ca02c}
\definecolor{mpl@l4}{HTML}{d62728}
\definecolor{mpl@l5}{HTML}{9467bd}
\definecolor{mpl@l6}{HTML}{8c564b}
\definecolor{mpl@l7}{HTML}{e377c2}
\definecolor{mpl@l8}{HTML}{7f7f7f}
\definecolor{mpl@l9}{HTML}{bcbd22}
\definecolor{mpl@l10}{HTML}{17becf}

\setbeamercolor{structure}{fg=nrel@gray30}
\setbeamercolor{normal text}{fg=nrel@gray30}
\setbeamercolor{block title}{use=structure,fg=white,bg=nrel@blue!80}
\setbeamercolor{block body}{use=structure,fg=black,bg=nrel@lightgray!60}
\setbeamercolor{section page header}{use=structure,fg=nrel@blue}
\setbeamercolor{frametitle}{use=structure,fg=white,bg=nrel@blue}
\setbeamercolor{title}{use=structure,fg=white,bg=nrel@blue}
\setbeamercolor{title page header}{use=structure,fg=nrel@blue}
\setbeamercolor{author}{use=structure}

\setbeamerfont{title}{size=\Large,series=\bfseries,parent=structure}
\setbeamerfont{frametitle}{size=\Large,series=\bfseries,parent=structure}
\setbeamerfont{section}{size=\Large,series=\bfseries,parent=structure}
\setbeamerfont{author}{size=\large,series=\bfseries,parent=structure}
\setbeamerfont{footline}{size=\tiny,series=\bfseries,parent=structure}

\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{blocks}[rounded][shadow=false]
\setbeamertemplate{enumerate item}[default]
\setbeamertemplate{itemize items}[circle]
\setbeamertemplate{itemize subitem}{--}
\setbeamertemplate{itemize subsubitem}{-}
\setbeamertemplate{itemize/enumerate subbody end}{\vspace{1ex}}
\setbeamersize{text margin left=1em,text margin right=1em}

\defbeamertemplate*{title page}{nrel}
{
  \tikzsetnextfilename{nrel_titleslide}
  \begin{tikzpicture}
    \useasboundingbox (0,0) rectangle (\the\paperwidth,\the\paperheight);
    \node[inner sep=0pt, anchor=north west](NREL Logo) at (0.05\paperwidth,\paperheight)
    {\includegraphics[width=0.25\textwidth]{nrel_theme/nrel_logo}};
    \node[inner sep=0pt,outer sep=0pt](title) at (0.5\textwidth,0.72\paperheight)
    {
      \begin{beamercolorbox}[wd=0.9\textwidth,center,sep=0pt]{title page header}
        \usebeamerfont{title}\inserttitle%
      \end{beamercolorbox}
    };
    \node[anchor=north](author) at (0.5\textwidth,0.5\paperheight)
    {
      \begin{beamercolorbox}[wd=0.9\textwidth,center,sep=0pt]{author}
        \usebeamerfont{author}\insertauthor\\%
        \vspace*{2em}
        \usebeamerfont{institute}\insertinstitute\\%
        \vspace*{2em}
        \usebeamerfont{date}\insertdate%
      \end{beamercolorbox}
    };
  \end{tikzpicture}
}


\defbeamertemplate*{section page}{nrel}
{
  \tikzsetnextfilename{nrel_section\insertsectionnumber}
  \begin{tikzpicture}
    \useasboundingbox (0,0) rectangle (\the\paperwidth,\the\paperheight);
    \node[inner sep=0pt, anchor=north west](NREL Logo) at (0.05\paperwidth,\paperheight)
    {\includegraphics[width=0.25\textwidth]{nrel_theme/nrel_logo}};
    \node[](section title) at (0.5\paperwidth,0.5\paperheight)
    {
      \begin{beamercolorbox}[wd=\textwidth,center]{section page header}
        \usebeamerfont{section}\insertsection%
      \end{beamercolorbox}
    };
  \end{tikzpicture}
}

\newcommand{\nrelacknowledge}[1]{
  \frame[plain]{
    \tikzsetnextfilename{nrel_acknowledgements}
    \begin{tikzpicture}
      \useasboundingbox (0,0) rectangle (\the\paperwidth,\the\paperheight);
      \node[inner sep=0pt, anchor=north west](NREL Logo) at (0.05\paperwidth,\paperheight)
      {\includegraphics[width=0.25\textwidth]{nrel_theme/nrel_logo}};
      \node[](section title) at (0.5\paperwidth,0.7\paperheight)
      {
        \begin{beamercolorbox}[wd=\textwidth,center]{section page header}
          \usebeamerfont{section}Thank you!\\ Questions?%
        \end{beamercolorbox}
      };
      \node[anchor=south west,inner sep=0pt, outer sep=0pt](acknowledgements)
        at (0.05\textwidth,0.1\paperheight)
      {
        \begin{beamercolorbox}[wd=\textwidth,sep=0pt]{acknowledgements}
          \parbox{0.9\textwidth}{
            \scriptsize{%
              The work was authored, in part, by the National Renewable Energy
              Laboratory, operated by Alliance for Sustainable Energy, LLC, for the
              U.S. Department of Energy (DOE) under Contract DE-AC36-08GO28308.
              Funding for this work was provided by the DOE Office of Energy
              Efficiency and Renewable Energy, Wind Energy Technologies Office. The
              views expressed in this article do not necessarily represent the views
              of the DOE or the U.S. Governement. The U.S. Government retains a
              nonexclusive, paid-up, irrevocable, worldwide license to publish or
              reproduce the published form of this work, or allow others to do so,
              for U.S. Government purposes.
            }
          }
        \end{beamercolorbox}
      };
    \end{tikzpicture}
  }
}


\AtBeginSection{%
  {%
    \frame[plain]{\sectionpage}
  }
}

\renewcommand{\maketitle}{
  {%
    \frame[plain]{\titlepage}
  }%
}

\addtobeamertemplate{footline}
{
  \leavevmode%
  \hfill
  \hbox{
    \begin{beamercolorbox}[ht=3ex,dp=1ex,right]{footline}
      \usebeamerfont{footline}NREL | \strut\insertframenumber\strut\hspace*{2ex}
    \end{beamercolorbox}
  }
  \vskip1ex\relax
}

\mode<all>